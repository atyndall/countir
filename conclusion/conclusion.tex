\documentclass[../thesis/thesis.tex]{subfiles}
\begin{document}
 \chapter{Conclusions}
% What did you do?
% Why did you do it?
% What happened?
% What do the results mean?
% What is your work good for?

The smart-home economy continues to grow, with automation being one of the main areas driving growth. The ability to detect people present within a space is an important smart-automation feature, with the implications for climate control energy efficiency alone being highly significant.

This project has attempted to create an occupancy detection system for such a smart home environment that meets four criteria; Low Cost, Non-Invasive, Energy Efficient and Reliable. Building such a system to commercial standards is outside of the scope of this project, however a prototype that attempts to prove the concepts involved was built and tested against these criteria. This prototype was based upon the ceiling-mounted thermal imaging approach of Thermosense \cite{beltran2013thermosense}, which after extensive analysis proved to be the best option given our criteria.

\section{Evaluation of Criteria}
We discuss how the created sensing system adheres to our original four goals of Low Cost, Non-Invasiveness, Reliability and Energy Efficient here.

\subsection{Low Cost}
One of our primary goals was to create a system that was inexpensive enough that it would be suitable for both office environments with hundreds of rooms, as well as smart homes for the disabled and elderly, both areas where per-unit cost is an issue.

As discussed in the Design chapter (\Fref{chap:design}, \fref{subsec:cost}), the cost of our proposed sensing system is around \$180, on par with the Thermosense system. Compared with most thermal sensing systems, this is very inexpensive, as devices incorporating thermal imaging can cost in the hundreds, thousands or even tens of thousands of dollars. We admit that \$180 is still quite expensive for such a sensing system, when taking into consideration that many would be needed for one home. However, while this is the cost of such components today, this is by no means the cost of them tomorrow. Prices for all of the components involved in this design are falling rapidly, in particular that of the thermal sensor: In the future work section we discuss a sensor that takes the price per pixel from the \$1.25 for the \mlx to \$0.07.

Right now we are at the stage where this technology is economical for researchers to investigate, but a future where it becomes economical for residencies is coming up fast. We believe by selecting the components that we have at the current price point, we have met the project's goal of low cost.

\subsection{Non-Invasive}
To ensure that the system would be palatable to those people sensed by it, we viewed creating a system with little means by which to monitor occupants beyond their presence as important.

As discussed in the Literature Review (\Fref{chap:litreview}, \fref{sec:litreview:sensors:analysis} and \ref{sec:litreview:thermalsensors}), we have concluded that the \mlx provides the best trade-off between accuracy and non-invasiveness. It provides this tradeoff from two different angles; the infrared aspect and the low-resolution aspect. 

By sensing in the infrared spectrum, many elements of automatic and manual person identification become more difficult, as many such methods rely on using color information to make such decisions. Similarly, by having the sensor constrained to such a low resolution, it is also quite difficult to perform person or action identification, due to the very little information available.

Through this architectural decision, we believe that the project's goal of producing a non-invasive sensing system has been achieved.

\subsection{Reliable}
Creating a system that is wholly automated and can detect occupants with a high level of accuracy is quite important to ensure that climate control and other occupant-driven tasks are reliably executed.

As discussed in the Classification Results (\Fref{chap:evaluation}, \fref{subsec:classification}), the prototype developed achieves accuracies in the 80\% range for select results. However, our results indicate that there is a fundamental difference between our set of experiments and those performed by Thermosense. None of our attempts to replicate their results succeeded, with every replicated result being significantly worse than that of Thermosense. The most likely reason for this is that the differences in the field of view of the \mlx when compared to the Grid-EYE is significant enough to affect the suitability of the algorithms used, in particular the \mlx created far more instances of partial people within the sensed region. This presents a key caveat for any future researchers attempting to reapply Thermosense's methodology to a different sensor.

With the specific techniques that we choose to test, we found quite a variation in the successfulness of results. Our best techniques, K* and C4.5 were very similar in result, and there is quite a gap to the third-best technique, the Multi-Layer Perceptron. We can only speculate as to why this is the case, but it is notable that both K* and C4.5 use entropy measures to make decisions, with K* using them as a distance measure, and C4.5 using them as a means to split the dataset for the decision tree. Perhaps entropy-based learning algorithms are of particular use with our sensor; this is an area worth further investigation.

Our worst selected technique, unsurprisingly, was Naive Bayes. It is unsurprising that it performed so poorly, as the ``Naive'' part of the technique is an assumption of independence between the different features input, which is clearly false with our features. All three of our features relate to the same underlying graph and are most definitely correlated with each other.

By using the K* or C4.5 machine learning algorithm, we are confident that the prototype could achieve appropriate levels of accuracy for its occupancy goals, and believe that the accuracy requirements of our project have been met.

\subsection{Energy Efficient}
Finally, as the system would hopefully be suitable for use in existing buildings, we aimed to create a system that could operate efficiently on battery power, as retrofitting power on a roof location would further add to the cost of the sensing system.

As discussed in the Energy Efficiency results (\Fref{chap:evaluation}, \fref{subsec:energy}), the prototype is comparatively power hungry, as the Thermosense system achieved a power consumption of around 5mA, approximately 10 times less. However, within the scope of this project we restricted our adherence to low-power consumption to an architectural level, rather than committing significant time to reducing this consumption.

Accordingly, while the current prototype is not as energy efficient as the Thermosense prototype, the Arduino used is not by any means the most energy efficient available, and the software running on it makes no attempt to sleep the hardware while no processing is occurring. We believe that with such measures, our prototype could achieve similar or better energy efficiency than Thermosense, and have ensured that our architectural decisions will not restrict such energy saving modifications.

We recommend that in future work, further energy saving measures, such as sleeping between sampling, and using lower power draw Arduinos are investigated to determine how much power it is possible to save.

\section{Limitations}
Due to time constraints, data collection was constrained to one set of ten experiments. Each of these experiments had the sensing system recording at the same height and the same angle. While this data was varied somewhat through half of the experiments involving sitting occupants (thereby increasing their thermal signature from the sensor's perspective), an exploration of how the results differed based on the sensor's viewing angle, as well as the sensor's distance from the ground would have served to improve the result set significantly.

Additionally, 

\section{Future Directions}
This project merely touched upon the area of thermal sensing and occupancy detection, and has laid the foundation for many more projects that build upon this original project. Some areas of future research are discussed here;

\subsection{Sub-pixel localization}
Due to the overlapping bell-curve characteristics of the \mlx's pixels, it may be possible to perform sub-pixel localization on objects within images. % TODO: Expand

\subsection{Improving Robustness}
One of the main areas of the project that was not explored due to time was the introducting of a wireless mesh networking architecture to the project. Future prototypes would consist of an many-to-one relationship between the Sensing/Pre-processing tier and the Analysis tier. Exploring the best way to mesh network these components while maintaining all the pre-existing criteria of the project would be challenging. In Appendix \Fref{chap:architecture} we provide our thoughts on the potential structure this could take.

Similarly, the current prototype uses a breadboarded structure that increases the size of the prototype significantly, as well as reduces the reliability of the prototype in the long-term. Converting the \mlx and PIR into a printed circuit board that fits onto the Arduino as a shield would both reduce the size of the prototype, as well as improving reliability for the future.

\subsection{Field-of-view modifications}
Several different techniques could be used to improve upon the field-of-view limitations of the \mlx, and exploring them and their cost/complexity implications would be useful. The first of these is applying a lens to the sensor, effectively expanding the field-of-view, but at the cost of distorting the image. Compensating for this distortion while maintaining accuracy presents an intriguing problem.

In another direction, using a motor with the \mlx to ``sweep'' the room, and thereby constructing a larger image of the space could also resolve the field-of-view issues. However, this approach also presents problems in stitching the images together in a sensible way, the distortion caused by rotating the sensor, as well as handing cases in which a fast-moving object is represented multiple times in the stitched image.

\subsection{New Sensors}
During this project, an updated version of our sensor, the MLX90621, was released. This version doubles the field-of-view in both the horizontal and vertical directions, addressing many of the problems encountered with the size of detection area in low-ceiling rooms. This version offers nearly complete backwards compatibility with the older version. Updating the project code-base to support it and re-running the experiments with the increased field-of-view to determine how much of an improvement it is would be interesting.

In addition to this, significantly higher resolution sensors are beginning to come to the market. The FLiR Lepton \cite{flir}, which sells in a dev kit for \$350, offers an $80 \times 60$ pixel sensor with a comparable field-of-view to the Grid-EYE. Exploring the increases in accuracy achievable though such significant increases in resolution would have significant contrion.

\section{Summary}
Fundamentally, in this project we set out to create a sensing system that met our requirements, and we have indeed created such a sensing system.

This system both validates the methods and results of the Thermosense paper, discovers key caveats surrounding the Thermosense approach, and also creates a software and hardware base on which future research into the area of occupancy in thermal imaging can be explored.
 
 \ifcsdef{mainfile}{}{\bibliography{../references/primary}}
\end{document}
